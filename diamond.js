function setup(){createCanvas(windowWidth,windowHeight);(sound=createDiv('<i class="fa fa-volume-up" aria-hidden="true"></i>').addClass("sound")).mousePressed(toggle);var t=width/35*1.4;rectMode(CENTER),buttons=[],buttons1=[],buttons2=[],buttons3=[],buttons4=[],buttons5=[],buttons6=[];for(var e=0;e<30;e++)buttons.push(new Button(e,height/2-3*t)),buttons1.push(new Button(e,height/2-2*t)),buttons2.push(new Button(e,height/2-t)),buttons3.push(new Button(e,height/2)),buttons4.push(new Button(e,height/2+t)),buttons5.push(new Button(e,height/2+2*t)),buttons6.push(new Button(e,height/2+3*t));(env=new p5.Env).setADSR(.001,.1,.2,.5),env.setRange(1,0),(noiseOsc=new p5.Noise("brown")).amp(env),noiseOsc.start(),phrase=new p5.Phrase("perc",makePerc,pattern),(env1=new p5.Env).setADSR(.001,.3,.2,.1),env1.setRange(1,0),(osc1=new p5.Oscillator("sine")).amp(env1),osc1.start(),osc1.freq(261.6),phrase1=new p5.Phrase("perc1",makePerc1,pattern1),(env2=new p5.Env).setADSR(.001,.1,.2,.5),env2.setRange(1,0),(osc2=new p5.Oscillator("sine")).amp(env2),osc2.start(),osc2.freq(293.6),phrase2=new p5.Phrase("perc2",makePerc2,pattern2),(env3=new p5.Env).setADSR(.001,.1,.2,.5),env3.setRange(1,0),(osc3=new p5.Oscillator("sine")).amp(env3),osc3.start(),osc3.freq(329.6),phrase3=new p5.Phrase("perc3",makePerc3,pattern3),(env4=new p5.Env).setADSR(.001,.1,.2,.5),env4.setRange(1,0),(osc4=new p5.Oscillator("sine")).amp(env4),osc4.start(),osc4.freq(392),phrase4=new p5.Phrase("perc4",makePerc4,pattern4),(env5=new p5.Env).setADSR(.001,.1,.2,.5),env5.setRange(1,0),(osc5=new p5.Oscillator("sine")).amp(env5),osc5.start(),osc5.freq(493.8),phrase5=new p5.Phrase("perc5",makePerc5,pattern5),(env6=new p5.Env).setADSR(.001,.1,.2,.5),env6.setRange(1,0),(osc6=new p5.Oscillator("triangle")).amp(env6),osc6.start(),osc6.freq(523.2),phrase6=new p5.Phrase("perc6",makePerc6,pattern6),(part=new p5.Part).addPhrase(phrase),part.addPhrase(phrase1),part.addPhrase(phrase2),part.addPhrase(phrase3),part.addPhrase(phrase4),part.addPhrase(phrase5),part.addPhrase(phrase6),part.setBPM(60),part.loop(),part.start()}function draw(){background(255),noStroke();for(var t=0;t<30;t++)buttons[t].render(),buttons1[t].render1(),buttons2[t].render2(),buttons3[t].render3(),buttons4[t].render4(),buttons5[t].render5(),buttons6[t].render6();isOn()}function toggle(){1==sp?(part.pause(),sp=!1,sound.html('<i class="fa fa-volume-off" aria-hidden="true"></i>')):0==sp&&(part.start(),sound.html('<i class="fa fa-volume-up" aria-hidden="true"></i>'),sp=!0)}function isOn(){for(var t=width/35,s=width/35*.7,i=0;i<30;i++)(mouseX-width/2+15*t)/t>i&&(mouseX-width/2+15*t)/t<i+1&&mouseY>height/2-7*s&&mouseY<height/2-5*s?a=i:(mouseX-width/2+15*t)/t>i&&(mouseX-width/2+15*t)/t<i+1&&mouseY>height/2-5*s&&mouseY<height/2-3*s?b=i:(mouseX-width/2+15*t)/t>i&&(mouseX-width/2+15*t)/t<i+1&&mouseY>height/2-3*s&&mouseY<height/2-s?c=i:(mouseX-width/2+15*t)/t>i&&(mouseX-width/2+15*t)/t<i+1&&mouseY>height/2-s&&mouseY<height/2+s?d=i:(mouseX-width/2+15*t)/t>i&&(mouseX-width/2+15*t)/t<i+1&&mouseY>height/2+s&&mouseY<height/2+3*s?e=i:(mouseX-width/2+15*t)/t>i&&(mouseX-width/2+15*t)/t<i+1&&mouseY>height/2+3*s&&mouseY<height/2+5*s?f=i:(mouseX-width/2+15*t)/t>i&&(mouseX-width/2+15*t)/t<i+1&&mouseY>height/2+5*s&&mouseY<height/2+7*s&&(g=i)}function mousePressed(){var t=width/35,s=width/35*.7;mouseX>a*t+width/2-15*t&&mouseX<a*t+width/2-15*t+t&&mouseY>height/2-7*s&&mouseY<height/2-5*s?pattern[a]=!pattern[a]:mouseX>b*t+width/2-15*t&&mouseX<b*t+width/2-15*t+t&&mouseY>height/2-5*s&&mouseY<height/2-3*s?pattern1[b]=!pattern1[b]:mouseX>c*t+width/2-15*t&&mouseX<c*t+width/2-15*t+t&&mouseY>height/2-3*s&&mouseY<height/2-s?pattern2[c]=!pattern2[c]:mouseX>d*t+width/2-15*t&&mouseX<d*t+width/2-15*t+t&&mouseY>height/2-s&&mouseY<height/2+s?pattern3[d]=!pattern3[d]:mouseX>e*t+width/2-15*t&&mouseX<e*t+width/2-15*t+t&&mouseY>height/2+s&&mouseY<height/2+3*s?pattern4[e]=!pattern4[e]:mouseX>f*t+width/2-15*t&&mouseX<f*t+width/2-15*t+t&&mouseY>height/2+3*s&&mouseY<height/2+5*s?pattern5[f]=!pattern5[f]:mouseX>g*t+width/2-15*t&&mouseX<g*t+width/2-15*t+t&&mouseY>height/2+5*s&&mouseY<height/2+7*s&&(pattern6[g]=!pattern6[g])}function makePerc(t,e){e&&env.play(),30==++beat&&(beat=0)}function makePerc1(t,e){e&&env1.play(),30==++beat1&&(beat1=0)}function makePerc2(t,e){e&&env2.play(),30==++beat2&&(beat2=0)}function makePerc3(t,e){e&&env3.play(),30==++beat3&&(beat3=0)}function makePerc4(t,e){e&&env4.play(),30==++beat4&&(beat4=0)}function makePerc5(t,e){e&&env5.play(),30==++beat5&&(beat5=0)}function makePerc6(t,e){e&&env6.play(),30==++beat6&&(beat6=0)}function Button(t,e){this.size=width/35,this.x=t,this.y=e,this.w=this.x*this.size+width/2-15*this.size,this.render=function(){pattern[this.x]?fill(255,241,1):fill(70,70,70),this.x==beat?(stroke(255,241,1),strokeWeight(3)):noStroke(),quad(this.w,this.y,this.w+.5*this.size,this.y-.7*this.size,this.w+this.size,this.y,this.w+.5*this.size,this.y+.7*this.size)},this.render1=function(){pattern1[this.x]?fill(255,241,1):fill(70,70,70),this.x==beat1?(stroke(255,241,1),strokeWeight(3)):noStroke(),quad(this.w,this.y,this.w+.5*this.size,this.y-.7*this.size,this.w+this.size,this.y,this.w+.5*this.size,this.y+.7*this.size)},this.render2=function(){pattern2[this.x]?fill(255,241,1):fill(70,70,70),this.x==beat2?(stroke(255,241,1),strokeWeight(3)):noStroke(),quad(this.w,this.y,this.w+.5*this.size,this.y-.7*this.size,this.w+this.size,this.y,this.w+.5*this.size,this.y+.7*this.size)},this.render3=function(){pattern3[this.x]?fill(255,241,1):fill(70,70,70),this.x==beat3?(stroke(255,241,1),strokeWeight(3)):noStroke(),quad(this.w,this.y,this.w+.5*this.size,this.y-.7*this.size,this.w+this.size,this.y,this.w+.5*this.size,this.y+.7*this.size)},this.render4=function(){pattern4[this.x]?fill(255,241,1):fill(70,70,70),this.x==beat4?(stroke(255,241,1),strokeWeight(3)):noStroke(),quad(this.w,this.y,this.w+.5*this.size,this.y-.7*this.size,this.w+this.size,this.y,this.w+.5*this.size,this.y+.7*this.size)},this.render5=function(){pattern5[this.x]?fill(255,241,1):fill(70,70,70),this.x==beat4?(stroke(255,241,1),strokeWeight(3)):noStroke(),quad(this.w,this.y,this.w+.5*this.size,this.y-.7*this.size,this.w+this.size,this.y,this.w+.5*this.size,this.y+.7*this.size)},this.render6=function(){pattern6[this.x]?fill(255,241,1):fill(70,70,70),this.x==beat6?(stroke(255,241,1),strokeWeight(3)):noStroke(),quad(this.w,this.y,this.w+.5*this.size,this.y-.7*this.size,this.w+this.size,this.y,this.w+.5*this.size,this.y+.7*this.size)}}var pattern=[!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],pattern1=[!1,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],pattern2=[!1,!1,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],pattern3=[!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],pattern4=[!1,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],pattern5=[!1,!1,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],pattern6=[!1,!1,!1,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],noiseOsc,osc,env,osc1,env1,osc2,env2,osc3,env3,osc4,env4,osc5,env5,osc6,env6,part,pharse,pharse1,pharse2,pharse3,pharse4,pharse5,pharse6,beat=0,beat1=0,beat2=0,beat3=0,beat4=0,beat5=0,beat6=0,a,b,c,d,e,f,g,buttons,buttons1,buttons2,buttons3,buttons4,buttons5,buttons6,sp=!0,sound;