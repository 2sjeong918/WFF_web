function setup(){var t=createCanvas(1e3,600),e=(windowWidth-width)/2,s=(windowHeight-height)/2;t.position(e,s),rectMode(CENTER),buttons=[],buttons1=[],buttons2=[],buttons3=[],buttons4=[];for(e=0;e<20;e++)buttons.push(new Button(e,height/2-2*h)),buttons1.push(new Button(e,height/2-h)),buttons2.push(new Button(e,height/2)),buttons3.push(new Button(e,height/2+h)),buttons4.push(new Button(e,height/2+2*h));(env=new p5.Env).setADSR(.001,.1,.2,.5),env.setRange(1,0),(noiseOsc=new p5.Noise("pink")).amp(env),noiseOsc.start(),phrase=new p5.Phrase("perc",makePerc,pattern),(env1=new p5.Env).setADSR(.001,.1,.2,.5),env1.setRange(1,0),(triOsc1=new p5.Oscillator("triangle")).amp(env1),triOsc1.start(),triOsc1.freq(329),phrase1=new p5.Phrase("perc1",makePerc1,pattern1),(env2=new p5.Env).setADSR(.001,.1,.2,.5),env2.setRange(1,0),(triOsc2=new p5.Oscillator("triangle")).amp(env2),triOsc2.start(),triOsc2.freq(1568),phrase2=new p5.Phrase("perc2",makePerc2,pattern2),(env3=new p5.Env).setADSR(.001,.1,.2,.5),env3.setRange(1,0),(triOsc3=new p5.Oscillator("triangle")).amp(env3),triOsc3.start(),triOsc3.freq(987),phrase3=new p5.Phrase("perc3",makePerc3,pattern3),(env4=new p5.Env).setADSR(.001,.1,.2,.5),env4.setRange(1,0),(triOsc4=new p5.Oscillator("triangle")).amp(env4),triOsc4.start(),triOsc4.freq(2093),phrase4=new p5.Phrase("perc4",makePerc4,pattern4),(part=new p5.Part).addPhrase(phrase),part.addPhrase(phrase1),part.addPhrase(phrase2),part.addPhrase(phrase3),part.addPhrase(phrase4),part.setBPM(60),part.loop(),part.start()}function draw(){background(255),noStroke();for(var t=0;t<20;t++)buttons[t].render(),buttons1[t].render1(),buttons2[t].render2(),buttons3[t].render3(),buttons4[t].render4();isOn()}function isOn(){for(var t=0;t<20;t++)mouseX/50>t&&mouseX/50<t+1&&mouseY>height/2-175&&mouseY<height/2-105?a=t:mouseX/50>t&&mouseX/50<t+1&&mouseY>height/2-105&&mouseY<height/2-35?b=t:mouseX/50>t&&mouseX/50<t+1&&mouseY>height/2-35&&mouseY<height/2+35?c=t:mouseX/50>t&&mouseX/50<t+1&&mouseY>height/2+35&&mouseY<height/2+105?d=t:mouseX/50>t&&mouseX/50<t+1&&mouseY>height/2+105&&mouseY<height/2+175&&(e=t)}function mousePressed(){mouseX>50*a&&mouseX<50*a+50&&mouseY>height/2-170&&mouseY<height/2-105?pattern[a]=!pattern[a]:mouseX>50*b&&mouseX<50*b+50&&mouseY>height/2-105&&mouseY<height/2-35?pattern1[b]=!pattern1[b]:mouseX>50*c&&mouseX<50*c+50&&mouseY>height/2-35&&mouseY<height/2+35?pattern2[c]=!pattern2[c]:mouseX>50*d&&mouseX<50*d+50&&mouseY>height/2+35&&mouseY<height/2+105?pattern3[d]=!pattern3[d]:mouseX>50*e&&mouseX<50*e+50&&mouseY>height/2+105&&mouseY<height/2+175&&(pattern4[e]=!pattern4[e])}function makePerc(t,e){e&&env.play(),20==++beat&&(beat=0)}function makePerc1(t,e){e&&env1.play(),20==++beat1&&(beat1=0)}function makePerc2(t,e){e&&env2.play(),20==++beat2&&(beat2=0)}function makePerc3(t,e){e&&env3.play(),20==++beat3&&(beat3=0)}function makePerc4(t,e){e&&env4.play(),20==++beat4&&(beat4=0)}function Button(t,e){this.size=50,this.x=t,this.y=e,this.w=50*this.x,this.render=function(){pattern[this.x]?fill(255,255,1):fill(70,70,70),this.x==beat?(stroke(255,255,20),strokeWeight(2)):noStroke(),quad(this.w,this.y,this.w+.5*this.size,this.y-.7*this.size,this.w+this.size,this.y,this.w+.5*this.size,this.y+.7*this.size)},this.render1=function(){pattern1[this.x]?fill(255,255,1):fill(70,70,70),this.x==beat1?(stroke(255,255,20),strokeWeight(2)):noStroke(),quad(this.w,this.y,this.w+.5*this.size,this.y-.7*this.size,this.w+this.size,this.y,this.w+.5*this.size,this.y+.7*this.size)},this.render2=function(){pattern2[this.x]?fill(255,255,1):fill(70,70,70),this.x==beat2?(stroke(255,255,20),strokeWeight(2)):noStroke(),quad(this.w,this.y,this.w+.5*this.size,this.y-.7*this.size,this.w+this.size,this.y,this.w+.5*this.size,this.y+.7*this.size)},this.render3=function(){pattern3[this.x]?fill(255,255,1):fill(70,70,70),this.x==beat3?(stroke(255,255,20),strokeWeight(2)):noStroke(),quad(this.w,this.y,this.w+.5*this.size,this.y-.7*this.size,this.w+this.size,this.y,this.w+.5*this.size,this.y+.7*this.size)},this.render4=function(){pattern4[this.x]?fill(255,255,1):fill(70,70,70),this.x==beat4?(stroke(255,255,20),strokeWeight(2)):noStroke(),quad(this.w,this.y,this.w+.5*this.size,this.y-.7*this.size,this.w+this.size,this.y,this.w+.5*this.size,this.y+.7*this.size)}}var pattern=[!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],pattern1=[!1,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],pattern2=[!1,!1,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],pattern3=[!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],pattern4=[!1,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],noiseOsc,triOsc,env,triOsc1,env1,triOsc2,env2,triOsc3,env3,triOsc4,env4,part,pharse,pharse1,pharse2,pharse3,pharse4,beat=0,beat1=0,beat2=0,beat3=0,beat4=0,a,b,c,d,e,buttons,buttons1,buttons2,buttons3,buttons4,h=70;